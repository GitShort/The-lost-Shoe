using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Invulnerability : MonoBehaviour
{
	[SerializeField] PlayerHealth health;
	Renderer rend;
	Color col;

    // Start is called before the first frame update
    void Start()
    {
		rend = GetComponent<Renderer>();
		col = rend.material.color;
		//health = GetComponent<PlayerHealth>();
    }

    //private void OnCollisionEnter2D(Collision2D collision)
    //{
    //    if (collision.gameObject.tag == "Enemy" && health.health > 0)
    //    {
    //        StartCoroutine("GetInvulnerable");
    //    }
    //}

    public void StartCoorutine()
    {
        StartCoroutine("GetInvulnerable");
    }

	IEnumerator GetInvulnerable()
	{
		Physics2D.IgnoreLayerCollision(9, 10, true);
		col.a = 0.5f;
		rend.material.color = col;
		yield return new WaitForSeconds(3f);
		Physics2D.IgnoreLayerCollision(9, 10, false);
		col.a = 1f;
		rend.material.color = col;
	}
}
